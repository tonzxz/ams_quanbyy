<div class="flex p-4 space-x-4">
    <!-- Purchase Request List -->
    <div class="w-1/2">
      <table class="min-w-full bg-white border border-gray-200">
        <thead>
          <tr class="bg-gray-100">
            <th class="py-2 px-4 border-b">PR ID</th>
            <th class="py-2 px-4 border-b">Department</th>
            <th class="py-2 px-4 border-b">Amount</th>
            <th class="py-2 px-4 border-b">Submission Date</th>
            <th class="py-2 px-4 border-b">Status</th>
          </tr>
        </thead>
        <tbody>
          <tr
            *ngFor="let request of purchaseRequests"
            (click)="onRowSelect(request)"
            class="cursor-pointer hover:bg-gray-50"
            [ngClass]="{
              'bg-blue-50': selectedRequest?.id === request.id
            }"
          >
            <td class="py-2 px-4 border-b">{{ request.id }}</td>
            <td class="py-2 px-4 border-b">{{ request.department }}</td>
            <td class="py-2 px-4 border-b">{{ request.amount | currency }}</td>
            <td class="py-2 px-4 border-b">{{ request.submissionDate }}</td>
            <td class="py-2 px-4 border-b">
              <span
                [ngClass]="{
                  'bg-green-100 text-green-800': request.status === 'Approved',
                  'bg-red-100 text-red-800': request.status === 'Rejected',
                  'bg-yellow-100 text-yellow-800': request.status === 'Pending'
                }"
                class="px-2 py-1 rounded-full text-sm"
              >
                {{ request.status }}
              </span>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  
    <!-- Purchase Request Details -->
    <div class="w-1/2" *ngIf="selectedRequest">
      <div class="bg-white border border-gray-200 rounded-lg shadow-sm p-6">
        <h3 class="text-xl font-semibold mb-4">PR Details</h3>
        <div class="space-y-4">
          <p><strong>PR ID:</strong> {{ selectedRequest.id }}</p>
          <p><strong>Department:</strong> {{ selectedRequest.department }}</p>
          <p><strong>Amount:</strong> {{ selectedRequest.amount | currency }}</p>
          <p><strong>Submission Date:</strong> {{ selectedRequest.submissionDate }}</p>
          <p><strong>Budget Compliance:</strong> {{ selectedRequest.budgetCompliance }}</p>
          <p><strong>Attachments:</strong></p>
          <ul class="list-disc pl-6">
            <li *ngFor="let attachment of selectedRequest.attachments">{{ attachment }}</li>
          </ul>
          <div class="mt-6 space-x-4">
            <button
              (click)="approveRequest()"
              [disabled]="selectedRequest.status !== 'Pending'"
              class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 disabled:bg-green-300"
            >
              Approve
            </button>
            <button
              (click)="rejectRequest()"
              [disabled]="selectedRequest.status !== 'Pending'"
              class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 disabled:bg-red-300"
            >
              Reject
            </button>
          </div>
          <div class="mt-4" *ngIf="selectedRequest.status === 'Pending'">
            <textarea
              [(ngModel)]="feedback"
              placeholder="Enter feedback for rejection..."
              class="w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
              rows="3"
            ></textarea>
          </div>
        </div>
      </div>
    </div>
  </div>