<p-card header="Pending Purchase Requests">
    <div class="flex flex-row justify-between">
        <p>Review pending purchase requests here.</p>
        <div class="gap-3 flex flex-row">
            <p-iconfield>
                <p-inputicon styleClass="pi pi-search"/>
                <input type="text" pInputText placeholder="Search" />
                <!-- <p-inputicon styleClass="pi pi-spinner pi-spin" /> -->
            </p-iconfield>
            <p-button icon="pi pi-filter" [rounded]="true" size="small" [outlined]="true"></p-button>
            <p-button icon="pi pi-refresh" [rounded]="true" size="small" [outlined]="true"></p-button>
        </div>
    </div>
        
    <p-table class="mt-5" [paginator]="true" [rows]="8" [value]="purchaseRequests" [tableStyle]="{ 'min-width': '50rem' }" selectionMode="single" (onRowSelect)="onRowSelect($event)">
        <ng-template pTemplate="header">
            <tr>
                <th>PR#</th>
                <th>Requestor</th>
                <th>Department</th>
                <th>Item</th>
                <th>Quantity</th>
                <th>Date</th>
                <th>Actions</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-request>
            <tr pSelectableRow>
                <td>{{ request.code }}</td>
                <td>{{ request.name }}</td>
                <td>{{ request.department }}</td>
                <td>{{ request.item }}</td>
                <td>{{ request.quantity }}</td>
                <td>{{ request.date }}</td>
                <td class="">
                    <button pButton pTooltip="Accept Purchase Request" showDelay="600" hideDelay="300" type="button" icon="pi pi-check" [rounded]="true" size="small" class="p-button-success mr-2"></button>
                    <button pButton pTooltip="Reject Purchase Request" showDelay="600" hideDelay="300" type="button" icon="pi pi-times" [rounded]="true" size="small" class="p-button-danger"></button>
                </td>
            </tr>
        </ng-template>
    </p-table>

    <p-dialog header="Purchase Request Details"[(visible)]="displayModal" [modal]="true" [closable]="true" (onHide)="hideModal()">
        <div *ngIf="selectedRequest">
            <p><strong>PR#:</strong> {{ selectedRequest?.code }}</p>
            <p><strong>Requestor:</strong> {{ selectedRequest?.name }}</p>
            <p><strong>Department:</strong> {{ selectedRequest?.department }}</p>
            <p><strong>Item:</strong> {{ selectedRequest?.item }}</p>
            <p><strong>Quantity:</strong> {{ selectedRequest?.quantity }}</p>
            <p><strong>Date:</strong> {{ selectedRequest?.date }}</p>
        </div>
    </p-dialog>
</p-card>